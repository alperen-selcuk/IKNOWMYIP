import { useState, useEffect } from 'react';
import { Card, CardContent } from "@/components/ui/card";
import { MapPin, Loader2 } from "lucide-react";

interface WorldMapProps {
  latitude?: string;
  longitude?: string;
  location?: string;
}

export default function WorldMap({ latitude, longitude, location }: WorldMapProps) {
  const [isLoading, setIsLoading] = useState(true);
  
  // Harita üzerinde pozisyon hesaplama
  const calculatePosition = (lat?: string, lng?: string) => {
    if (!lat || !lng) return { x: 0, y: 0 };
    
    // String değerleri sayıya çeviriyoruz
    const latNum = parseFloat(lat);
    const lngNum = parseFloat(lng);
    
    // Geçerli sayılar değilse varsayılan konum
    if (isNaN(latNum) || isNaN(lngNum)) return { x: 0, y: 0 };
    
    // SVG koordinatlarına dönüştürme
    // Basit mercator projeksiyonu - koordinatları SVG boyutlarına ölçeklendiriyoruz
    // SVG genişliği 800, yüksekliği 400 olduğunu varsayıyoruz
    const x = ((lngNum + 180) / 360) * 800;
    const y = ((90 - latNum) / 180) * 400;
    
    return { x, y };
  };

  const position = calculatePosition(latitude, longitude);
  
  // Sayfa yüklendikten sonra yükleme durumunu güncelle
  useEffect(() => {
    if (latitude && longitude) {
      const timer = setTimeout(() => {
        setIsLoading(false);
      }, 1000); // Bir yükleme efekti için küçük bir gecikme
      
      return () => clearTimeout(timer);
    }
  }, [latitude, longitude]);

  return (
    <Card className="overflow-hidden mt-8">
      <div className="px-6 py-5 border-b border-gray-200 bg-gradient-to-r from-indigo-500 to-blue-600">
        <h2 className="text-xl font-semibold text-white flex items-center">
          <MapPin className="mr-2 h-5 w-5" />
          Dünya Üzerinde Konumunuz
        </h2>
      </div>
      
      <CardContent className="p-6">
        {isLoading ? (
          <div className="flex items-center justify-center h-80">
            <Loader2 className="h-10 w-10 text-purple-500 animate-spin" />
          </div>
        ) : (
          <div className="relative">
            {/* Basit dünya haritası SVG */}
            <svg 
              xmlns="http://www.w3.org/2000/svg" 
              viewBox="0 0 800 400" 
              className="w-full h-auto border rounded-md"
            >
              {/* Okyanuslar için arka plan */}
              <rect width="800" height="400" fill="#e6f2ff" />
              
              {/* Basitleştirilmiş dünya kıtaları */}
              <path
                d="M116.5,96.9c0,0,4.1,0.7,5.8,0.7c1.7,0,4.8,0.4,4.8,0.4s3.8,0.3,4.8,0.3c1,0,5.5,0.3,5.5,0.3l5.5,0.7l5.5,0.7 c0,0,4.1,1.7,4.8,1c0.7-0.7,2.1-0.7,2.1-0.7s3.1-2.4,3.8-2.7c0.7-0.3,5.8-3.8,5.8-3.8s4.8-2.4,5.5-2.7c0.7-0.3,3.8-0.3,5.8-0.3 c2.1,0,3.1,0.3,4.5,1c1.4,0.7,3.8,3.4,3.8,3.4s3.1,2.7,3.8,3.4c0.7,0.7,3.1,3.1,3.1,3.1s4.5,3.1,5.5,3.4c1,0.3,4.5,0.7,5.5,0.7 c1,0,4.5,1,6.2,1.4c1.7,0.3,4.1,1.4,5.5,1.7c1.4,0.3,8.9,1.4,8.9,1.4s11.7,1.7,12.7,1.7c1,0,7.2,0,8.6,0.3 c1.4,0.3,5.5,1.7,6.2,2.1c0.7,0.3,7.2,2.7,7.2,2.7s7.6,2.4,8.6,2.7c1,0.3,14.4,2.7,14.4,2.7s12,1.7,15.8,1.7c3.8,0,6.9,0,6.9,0 s5.8,0.7,7.2,0.7c1.4,0,7.2,0.3,7.2,0.3s5.5,1,6.9,1.4c1.4,0.3,2.4,1.4,3.8,1.7c1.4,0.3,4.1,1.4,4.8,1.7c0.7,0.3,4.1,0.7,4.1,0.7 s4.1,0.7,5.8,1c1.7,0.3,5.5,0.7,6.9,0.7c1.4,0,3.4,0.7,3.4,0.7l2.1,1.4l1.7,1.7c0,0,2.4,0.7,3.1,2.1c0.7,1.4,1.7,1.7,1.7,3.4 c0,1.7,1,2.4,1,2.4s2.4,1.7,2.4,3.1c0,1.4-0.3,3.4-0.3,3.4l-1.7,3.8c0,0-1.4,4.8-1.4,5.8c0,1-1.7,4.5-1.7,5.8 c0,1.4-0.3,3.8-0.3,5.1c0,1.4,0.3,3.8,0.3,4.8c0,1,1,4.1,1.4,4.8c0.3,0.7,2.4,5.1,2.4,5.1s0.7,1.7,1.7,2.1c1,0.3,2.4,0.7,3.1,0.7 s1.4,0.3,2.4,0.3c1,0,1.7,0.3,2.7,0.3c1,0,4.1,0.3,4.1,0.3s2.4,0.7,3.8,0.3c1.4-0.3,3.4-0.7,4.1-1c0.7-0.3,4.5-1.7,5.5-2.1 c1-0.3,3.4-2.1,4.5-2.4c1-0.3,6.5-1.7,6.5-1.7s5.5-1.4,6.5-1.4c1,0,6.5-0.7,7.2-0.7c0.7,0,3.4-0.7,4.5-0.7c1-0.1,3.8-1,3.8-1 s4.5-2.1,5.1-2.4c0.7-0.3,4.1-2.7,4.8-2.7c0.7,0,5.1-0.7,6.2-1c1-0.3,7.2-1.4,8.2-1.7c1-0.3,4.8-0.7,5.8-0.7c1,0,8.6-0.3,9.3-0.3 c0.7,0,2.7-0.7,3.4-0.7c0.7,0,3.8-1.4,3.8-1.4s3.8-0.7,4.8-1c1-0.3,6.5-2.1,7.6-2.4c1-0.3,4.5-0.3,5.8-0.3c1.4,0,8.2-1,8.2-1 s5.1-1.4,6.2-1.4c1-0.1,4.8-0.3,5.8-0.3c1,0,4.1-0.3,4.8,0c0.7,0.3,2.7,1.7,2.7,1.7s2.7,2.4,3.1,2.7c0.3,0.3,3.1,2.4,3.1,2.4 s2.7,1.4,3.4,1.7c0.7,0.3,4.1,0.7,4.5,0.7c0.3,0,3.1,1,3.1,1l2.7,1l4.1,0.7l6.2,0.3l4.1,0.3c0,0,5.8-0.3,6.5-0.3 c0.7,0,3.1-0.3,3.8-0.3c0.7,0,4.5-1,5.1-1c0.7,0,2.7-1.4,2.7-1.4s4.5-2.1,4.8-2.1c0.3,0,3.1-1.4,3.1-1.4l3.4-1.4 c0,0,3.8-1.7,4.1-1.7c0.3,0,5.1-2.7,5.1-2.7s3.8-0.7,4.5-1c0.7-0.3,4.1-0.7,5.1-0.7c1,0,4.5-0.3,5.5-0.3c1,0,7.2-1,7.6-1.4 c0.4-0.3,1.5-2.5,1.7-3.1c0.3-0.7,3.1-0.7,3.1-0.7s3.1-0.7,3.4-1c0.3-0.3,1.4-2.1,1.4-2.1s-0.3-2.7-0.3-3.1c0-0.3-1-1.4-1-1.4 l-2.4-1.7l-3.1-2.7l-0.3-1.7l1-1.7c0,0,1-1.4,1.4-1.7c0.3-0.3,1.7-1.7,1.7-1.7s1-1.4,1-2.1c0-0.7-0.3-2.4-0.3-2.4l-1.4-3.4 c0,0-1.4-1.7-1.7-2.1c-0.3-0.3-1.7-2.1-2.1-2.7c-0.3-0.7-2.1-3.1-2.1-3.1s-1.4-0.7-1.7-1c-0.3-0.3-1.7-1.4-1.7-1.4s-3.1-3.1-3.4-3.1 c-0.3,0-2.1-1-2.4-1c-0.3,0-4.1-1.7-4.1-1.7l-3.4-1c0,0-3.4-0.3-4.1-0.3c-0.7,0-2.4-1.7-2.4-1.7s-5.1-1.4-4.5,0 c0.7,1.4,3.1,3.4,3.1,3.4s0.3,1.7,1,1.7c0.7,0,2.1-0.3,2.1-0.3l1-1.4l1.7-1.4v-1.4l-2.1-0.7l-2.1-0.7l-1.7-0.7l-1-1.4l-1.4-1.7 c0,0-1-2.1-0.7-2.4c0.3-0.3,2.4-0.7,2.4-0.7l3.4,0.3l1.4,2.4c0,0,1.7,1,1.7,1.7c0,0.7-0.3,3.1-0.3,3.1s1.3,1.3,2,1 c0.7-0.3,1-1.7,1-1.7s0.3-3.4,0.3-4.1c0-0.7,0-3.4,0-3.4l-1.4-2.4l-1.7-1.7l-1.7-1.4l-1.7-1l-3.4-1l-3.4-0.7l-3.1-2.7l-0.7-3.1 c0,0,0-3.4,0-4.1s-0.7-1.7-0.7-1.7s-0.7-1.7-0.7-2.4c0-0.7-1.4-3.4-1.4-3.4s-1.4-2.4-1.4-3.4c0-1-1-3.4-1-3.4l-1.4-2.7l-1-0.7 c0,0-1.4,0.7-1.4,1.4c0,0.7,0.3,2.7,0.3,2.7l1.4,1.4v2.1l-1,3.8l-0.3,2.1l1.4,1.7l0.7,1.7c0,0,0.7,1.7,0.3,2.4 c-0.3,0.7-1.4,1.7-1.4,1.7s-2.4,0.7-2.4,1.4c0,0.7,0.7,3.4,0.7,3.4s1.4,1.4,1.4,2.1c0,0.7-1,2.4-1,2.4l-4.1,4.1l-4.5,1l-3.8-0.3 c0,0-2.4-0.7-3.1-0.7c-0.7,0-5.1-1-5.1-1l-4.1-0.7l-2.4-0.3l-2.7-1c0,0-0.7-1.7-0.7-2.1c0-0.3-0.3-1.4-0.3-1.4s-1-3.1-1-3.4 c0-0.3,0-4.5,0-4.5l1-3.1l1.7-2.7c0,0,0.7-1.4,1-1.4c0.3,0,2.4-1.7,2.4-1.7l2.1-1.4l3.4-0.7c0,0,3.1-0.3,3.8-0.3 c0.7,0,2.4-1,3.1-1c0.7,0,2.7,0,2.7,0s2.4,1.4,2.4,1.7c0,0.3,1,1.7,1,1.7s0.7,2.1,0.3,2.4c-0.3,0.3-2.4,1-2.4,1s-2.4,0.3-2.7,0 c-0.3-0.3-1-1.4-1-1.4s-1.4-1-1.7-1s-1.7,0.3-1.7,0.3l-1.4,1V54c0,0,1,1,1.7,1c0.7,0,3.1,0.3,3.1,0.3l2.4,0.7c0,0,1.4,2.1,1.4,2.4 c0,0.3,0.3,1.4,0.3,1.7c0,0.3,0.3,2.4,0,2.7c-0.3,0.3-1.7,1-1.7,1l-1.7,0.7c0,0-1.7,0.3-2.4,0.3s-2.1,0-2.1,0s-1.4-1.7-1.7-2.1 c-0.3-0.3-2.1-2.1-2.1-2.1s-2.7-1-3.1-1c-0.3,0-2.7-0.7-2.7-0.7l-2.1-1.4l-1.4-1.4L412,53c0,0,0-1.7,0-2.1c0-0.3,0.3-2.7,0.3-2.7 s1-4.1,1-4.5c0-0.3,0.3-4.1,0.3-4.5c0-0.3-0.3-3.1-0.3-3.4c0-0.3-1-2.1-1-2.1s-1.7-1.7-2.1-1.7c-0.3,0-3.1-0.7-3.1-0.7 s-5.1-0.7-5.5-0.7c-0.3,0-4.5-1-4.5-1l-4.1-1c0,0-7.6-0.7-7.9-0.7c-0.3,0-5.5-1-5.5-1s-4.8-0.7-5.5-0.7c-0.7,0-6.2-0.3-6.2-0.3 s-3.4-1-4.1-1c-0.7,0-4.1-0.7-4.8-0.7c-0.7,0-5.5-0.3-5.5-0.3s-6.9-1-7.6-1c-0.7,0-4.5-0.3-5.5-0.3c-1,0-4.5-0.3-5.1-0.3 c-0.7,0-4.8-1.4-4.8-1.4s-3.4-1.7-3.8-1.7c-0.3,0-2.7,0.3-2.7,0.3l-0.3,1l-0.7,1.7c0,0-1.4,1.4-1.4,1.7c0,0.3-0.3,1.7-0.3,1.7 s0.3,1.7,0.3,2.1c0,0.3,1,1.7,1,1.7s1.7,2.1,2.4,2.1c0.7,0,3.4,0.3,3.4,0.3s4.5,1.4,5.1,1.4c0.7,0,3.8,1,4.5,1 c0.7,0,2.7,0.7,2.7,0.7s0.3,1.7,0.3,2.1c0,0.3,0,3.4-0.3,3.8c-0.3,0.3-1.7,0.7-1.7,0.7l-2.4,0.3h-2.4l-1-0.7l-1-2.1 c0,0-1.7-0.3-2.1-0.3c-0.3,0-2.7-0.3-2.7-0.3l-2.4-0.7l-1.7-0.7c0,0-2.1-0.3-2.4-0.3c-0.3,0-3.4-1-3.4-1l-2.4-1.4L328.3,36 l-2.1-1.4c0,0-1.7-2.7-1.7-3.1c0-0.3-1-1.7-1-1.7s-1-1.4-1.4-1.4c-0.3,0-1.7-0.3-1.7-0.3s-2.1-0.3-2.4-0.3c-0.3,0-2.7-0.7-2.7-0.7 s-2.1-1-2.4-1c-0.3,0-1.7-1-1.7-1s-1.7-1-2.4-1c-0.7,0-3.4,0-3.4,0l-1.7,0.7l-1.7,1l-1.7,1.4l-1.7,1l-2.1,0.3h-2.4 c0,0-2.1,1-2.4,1c-0.3,0-1.4,1.4-1.4,1.4l-1,2.1l-0.3,1.7v2.1l-0.3,1.7l-1.4,1.4c0,0-1.4,0.7-1.7,0.7s-1.7,0.3-2.1,0.3 c-0.3,0-1.7,0.3-1.7,0.3s-0.3,1-0.3,1.4c0,0.3,0.3,3.4,0.3,3.4s1,2.4,1,2.7c0,0.3,0.3,1.7,0.3,1.7s-0.3,1.7-0.3,2.4 c0,0.7-0.3,2.7-0.3,3.1c0,0.3,0,3.1,0,3.1s-0.3,1.4-0.3,1.7c0,0.3-1,1.7-1,1.7l-1.4,1.7c0,0-1.7,1-2.1,1c-0.3,0-2.1,0.3-2.4,0.3 c-0.3,0-1.7,0.3-2.1,0.3c-0.3,0-1.7,0.3-1.7,0.3s-1.7,0.7-2.1,0.7c-0.3,0-1,0.3-1.4,0.3c-0.3,0-2.1,0.3-2.1,0.3s-1,0.7-1.7,0.7 c-0.6,0-1.7,0.3-1.7,0.3h-2.1c0,0-0.7,0.3-1.7,0.3c-1,0-3.8,0-3.8,0s-2.1-0.3-2.4-0.3c-0.3,0-2.4-0.3-2.4-0.3s-2.4-0.7-2.7-0.7 c-0.3,0-3.8-1-3.8-1l-1.7-1.4l-1.4-1l-3.1-2.1l-1.7-1l-1.7-1.4c0,0-1-1.4-1-1.7c0-0.3-0.7-1.7-0.7-1.7l-1.4-1.4 c0,0-0.7,0-1.4-0.3c-0.7-0.3-2.4-1.7-2.4-1.7L216,57l-0.7-1.4c0,0-0.7-1.7-0.7-2.1c0-0.3-0.3-1.7-0.3-1.7s-1-3.1-1-3.4 c0-0.3-1-2.4-1-2.7c0-0.3,0-1.7,0-1.7l-1-1.4l-1-1.7l-1-1.7l-0.7-2.1c0,0-0.3-1.7-0.3-2.1c0-0.3-1-2.1-1-2.1s-1-1.7-1-2.1 c0-0.3-0.7-2.1-0.7-2.1s-1-1.7-1-2.1c0-0.3-0.7-1.7-0.7-1.7l-1.4-2.1L201,20l-1-1.7l-1.4-1.4l-1.7-1.7l-1.7-0.7l-2.4-0.7 c0,0-1.4-0.7-1.7-0.7c-0.3,0-2.4-0.3-2.4-0.3s-2.4-0.7-3.1-0.7c-0.7,0-1.7-0.3-2.1-0.3c-0.3,0-4.1-0.3-4.1-0.3s-1.7,0.3-2.1,0.3 c-0.3,0-2.1,0.7-2.4,0.7c-0.3,0-3.1,1-3.1,1l-1.7,1c0,0-1.7,0.7-2.1,0.7c-0.3,0-2.7,1.4-2.7,1.4s-2.1,1.7-2.4,1.7 c-0.3,0-3.4,3.1-3.4,3.1s-1.4,1.7-1.4,2.1c0,0.3-1.7,3.1-1.7,3.1s-0.7,2.1-0.7,2.4c0,0.3-0.3,2.7-0.3,2.7s-0.3,1.7-0.3,2.1 c0,0.3,0.3,2.1,0.3,2.4c0,0.3,1,2.4,1,2.4s1,2.1,1,2.4c0,0.3,0.7,2.1,0.7,2.1s0.7,1.7,0.7,2.1c0,0.3,0.7,2.1,0.7,2.4 c0,0.3,0.7,1.7,0.7,1.7s0.7,1.4,0.7,1.7c0,0.3,1,1.7,1,1.7l1.4,1.7l1,1.7l0.7,1.4l0.7,1l1.4,1.4l1.7,1.7c0,0,1.4,1,1.7,1 c0.3,0,1.7,0.7,1.7,0.7l1.7,0.7c0,0,0.7,0.3,1.4,0.3c0.7,0,3.1,0.3,3.1,0.3s1.4,0.3,1.7,0.3c0.3,0,1.7,0.3,1.7,0.3s0.7,0.3,1.4,0.3 c0.7,0,1.7,0.3,1.7,0.3s0.3,0.7,0.3,1c0,0.3,0.7,1.7,0.7,1.7l0.7,1.4c0,0,0.7,1,0.7,1.4c0,0.3,0.3,1.7,0.3,1.7v2.1l-0.3,2.1l-1,2.4 c0,0-0.7,1.7-0.7,2.1c0,0.3-0.7,1.7-0.7,1.7s-1,1.7-1,2.1c0,0.3-1.4,2.4-1.4,2.4l-1.4,1.7l-1,1l-1.7,1c0,0-1.7,1-2.1,1 c-0.3,0-2.4,0.7-2.4,0.7l-2.1,0.3l-2.1,0.3h-2.1c0,0-1-0.3-1.4-0.3c-0.3,0-2.1-0.7-2.1-0.7s-1.7-0.7-2.1-1c-0.3-0.3-1.4-1-1.4-1 s-1.4-1-1.7-1.4c-0.3-0.3-1.4-1.7-1.4-1.7l-1-1.7l-0.7-1.4l-0.7-2.1v-2.1l-0.3-2.4v-2.4l-0.3-2.4l-0.7-1.7l-1-1.4l-1.4-1 l-2.1-0.7l-2.4-0.3c0,0-2.1-0.3-2.4-0.3c-0.3,0-2.1-0.7-2.4-0.7c-0.3,0-2.1-0.7-2.1-0.7s-1.7-1.4-1.7-1.7c0-0.3-1-1.7-1-1.7 l-0.3-1.7v-2.1l-0.3-1.7l-1-1.4l-1.4-1.4c0,0-1.7-0.7-2.1-0.7c-0.3,0-2.1-0.3-2.4-0.3c-0.3,0-2.4-0.3-2.4-0.3s-1.7-0.7-2.1-0.7 c-0.3,0-1.7-0.7-1.7-0.7l-1.7-1l-1.4-1.4l-1-1.4l-0.7-1.7l-0.3-1.7v-1.7v-2.1l0.3-1.7l0.7-1.7l1.4-1.7l1.7-1.4l1.7-0.7l2.1-0.3 h2.1c0,0,1.7,0.3,2.1,0.3c0.3,0,1.7,0.7,1.7,0.7l1.7,1.4l1,1.7l0.3,1.7v2.1l0.3,1.7c0,0,1,1.7,1.4,1.7c0.3,0,1.7,0.7,1.7,0.7 s1.7,0.3,2.1,0.3c0.3,0,2.1,0,2.1,0s2.1-0.3,2.4-0.3c0.3,0,2.1-0.7,2.1-0.7s1.7-1,1.7-1.4c0-0.3,1-1.7,1-1.7s0.3-1.4,0.3-1.7 c0-0.3,0-2.1,0-2.1v-2.1l-0.3-1.7l-1-1.7l-1.4-1.4l-1.7-1l-1.7-0.7c0,0-1.7-0.3-2.1-0.3c-0.3,0-2.1,0-2.1,0s-1.4,0.3-1.7,0.3 c-0.3,0-1.7,0.7-1.7,0.7l-1.7,1.4l-1,1.7l-0.3,1.7v2.1l-0.3,1.7l-1,1.4l-1.4,1l-1.7,0.7c0,0-1.7,0.3-2.1,0.3c-0.3,0-2.1,0-2.1,0 l-2.1-0.3l-1.7-1.4l-1-1.7l-0.3-1.7v-2.1c0,0,0.3-1.4,0.3-1.7c0-0.3,1-1.7,1-1.7l1.4-1.4l1.7-0.7c0,0,1.4-0.3,1.7-0.3 c0.3,0,2.1,0,2.1,0s1.7,0.3,2.1,0.3c0.3,0,1.7,0.7,1.7,0.7l1.7,1.4c0,0,1,1.4,1,1.7c0,0.3,0.3,1.7,0.3,1.7v2.1H116.5z"
                 fill="#e6ccb3"
              />
              
              {/* Avrupa */}
              <path
                d="M419.7,59.1c0,0,2.4-0.3,2.7-0.3c0.3,0,2.7-0.7,2.7-0.7l1.7-1l1.7-1.4l1.4-1.7l0.7-2.1l0.3-1.7l-0.3-2.1l-1-1.7 l-1.4-1.4l-2.1-0.7l-2.1-0.3l-2.1,0.3l-1.7,1l-1.4,1.4l-1,1.7l-0.3,2.1v2.1c0,0,0.3,1.4,0.3,1.7c0,0.3,1,1.7,1,1.7l1.4,1.4 L419.7,59.1z"
                fill="#e6ccb3"
              />
              
              {/* Kuzey Amerika */}
              <path
                d="M121.9,59.7c0,0,0,0,0.3-0.3c0.3-0.3,1.7-1.4,1.7-1.4l2.1-0.7l1.7-0.3h1.7l1.7,0.3l1.4,0.7l1.4,1l1,1.4l0.3,1.4 v1.7l-0.3,1.4c0,0-0.7,1-1,1c-0.3,0-1.4,0.7-1.4,0.7l-1.7,0.3h-1.7c0,0-1.4-0.3-1.7-0.3s-1.4-0.7-1.4-0.7l-1.4-0.8l-1-1.3 l-0.3-1.7v-1.4C122.3,60.5,122.3,60.1,121.9,59.7z"
                fill="#e6ccb3"
              />
              
              {/* Güney Amerika */}
              <path
                d="M176.9,198.9c0,0,1.4-1.4,1.7-1.4c0.3,0,2.1-0.7,2.1-0.7s1.4-0.3,1.7-0.3c0.3,0,2.1,0,2.1,0s1.4,0.3,1.7,0.3 c0.3,0,1.7,0.7,1.7,0.7l1.7,1l1,1.4l0.7,1.4l0.3,1.7v1.7l-0.3,1.7l-0.7,1.4l-1,1.4l-1.7,1.4l-1.7,0.7c0,0-1.4,0.3-1.7,0.3 c-0.3,0-2.1,0-2.1,0s-1.4-0.3-1.7-0.3c-0.3,0-1.7-0.7-1.7-0.7l-1.7-1l-1-1.4l-0.7-1.4l-0.3-1.7v-1.7l0.3-1.7L176.9,198.9z"
                fill="#e6ccb3"
              />
              
              {/* Avustralya */}
              <path
                d="M674.9,224.8c0,0,1.4-1.4,1.7-1.4c0.3,0,2.1-0.7,2.1-0.7s1.4-0.3,1.7-0.3c0.3,0,2.1,0,2.1,0s1.4,0.3,1.7,0.3 c0.3,0,1.7,0.7,1.7,0.7l1.7,1l1,1.4l0.7,1.4l0.3,1.7v1.7l-0.3,1.7l-0.7,1.4l-1,1.4l-1.7,1l-1.7,0.7c0,0-1.4,0.3-1.7,0.3 c-0.3,0-2.1,0-2.1,0s-1.4-0.3-1.7-0.3c-0.3,0-1.7-0.7-1.7-0.7l-1.7-1l-1-1.4l-0.7-1.4l-0.3-1.7v-1.7l0.3-1.7L674.9,224.8z"
                fill="#e6ccb3"
              />
              
              {/* Afrika */}
              <path
                d="M397.9,124.8c0,0,1.4-1.4,1.7-1.4c0.3,0,2.1-0.7,2.1-0.7s1.4-0.3,1.7-0.3c0.3,0,2.1,0,2.1,0s1.4,0.3,1.7,0.3 c0.3,0,1.7,0.7,1.7,0.7l1.7,1l1,1.4l0.7,1.4l0.3,1.7v1.7l-0.3,1.7l-0.7,1.4l-1,1.4l-1.7,1l-1.7,0.7c0,0-1.4,0.3-1.7,0.3 c-0.3,0-2.1,0-2.1,0s-1.4-0.3-1.7-0.3c-0.3,0-1.7-0.7-1.7-0.7l-1.7-1l-1-1.4l-0.7-1.4l-0.3-1.7v-1.7l0.3-1.7L397.9,124.8z"
                fill="#e6ccb3"
              />
              
              {/* Konum işaretçisi */}
              {position.x > 0 && position.y > 0 && (
                <g>
                  <circle 
                    cx={position.x} 
                    cy={position.y} 
                    r="8" 
                    fill="#ff335599" 
                  />
                  <circle 
                    cx={position.x} 
                    cy={position.y} 
                    r="4" 
                    fill="#ff0000" 
                  />
                  <circle 
                    cx={position.x} 
                    cy={position.y} 
                    r="12" 
                    fill="none" 
                    stroke="#ff0000" 
                    strokeWidth="2"
                    opacity="0.5"
                  >
                    <animate 
                      attributeName="r" 
                      from="8" 
                      to="20" 
                      dur="1.5s" 
                      begin="0s" 
                      repeatCount="indefinite"
                    />
                    <animate 
                      attributeName="opacity" 
                      from="0.8" 
                      to="0" 
                      dur="1.5s" 
                      begin="0s" 
                      repeatCount="indefinite"
                    />
                  </circle>
                </g>
              )}

            </svg>
            
            {/* Konum bilgisi */}
            {latitude && longitude && (
              <div className="mt-4 p-4 bg-blue-50 border border-blue-200 rounded-md">
                <div className="flex items-start">
                  <MapPin className="h-5 w-5 text-blue-500 mr-2 mt-0.5" />
                  <div>
                    <h3 className="font-medium text-gray-800">Konum Bilgisi</h3>
                    <p className="text-gray-600 text-sm mt-1">
                      {location ? `${location}` : 'Bilinmiyor'}
                    </p>
                    <p className="text-gray-500 text-xs mt-1">
                      Koordinatlar: {latitude}, {longitude}
                    </p>
                  </div>
                </div>
              </div>
            )}
          </div>
        )}
      </CardContent>
    </Card>
  );
}